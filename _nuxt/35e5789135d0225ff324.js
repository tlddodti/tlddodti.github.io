(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{196:function(t,e,n){"use strict";var o=n(19),r=n(197)(5),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),o(o.P+o.F*c,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(96)("find")},197:function(t,e,n){var o=n(45),r=n(95),c=n(46),l=n(37),h=n(198);t.exports=function(t,e){var n=1==t,d=2==t,m=3==t,v=4==t,f=6==t,y=5==t||f,w=e||h;return function(e,h,j){for(var k,_,L=c(e),C=r(L),I=o(h,j,3),O=l(C.length),x=0,A=n?w(e,O):d?w(e,0):void 0;O>x;x++)if((y||x in C)&&(_=I(k=C[x],x,L),t))if(n)A[x]=_;else if(_)switch(t){case 3:return!0;case 5:return k;case 6:return x;case 2:A.push(k)}else if(v)return!1;return f?-1:m||v?v:A}}},198:function(t,e,n){var o=n(199);t.exports=function(t,e){return new(o(t))(e)}},199:function(t,e,n){var o=n(25),r=n(134),c=n(11)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),o(e)&&null===(e=e[c])&&(e=void 0)),void 0===e?Array:e}},200:function(t,e,n){"use strict";n(196);var o,r=n(21),c=n(16),l=n(17),h=n(3),d=n(5),m=function(){function t(){var e=this;Object(c.a)(this,t),this.checkIfInView=function(t){var n=t.getBoundingClientRect(),o=n.top,r=n.bottom;t.top||(t.top=o),o<.35*window.innerHeight&&r>.65*window.innerHeight&&!t.classList.contains("is-active")&&e.setActiveItem(t)},this.render=function(){Object(r.a)(e.dom.images).forEach((function(t){return e.checkIfInView(t)}))},this.handleClick=function(t){var n=t.target.dataset.album,o=Object(r.a)(e.cache).find((function(data){return data.el.dataset.album===n}));if(o){var c=o.y-window.innerHeight/2+o.height/2;window.scrollTo(0,c)}},this.handleResize=function(){e.setCache()},this.dom={},this.dom.el=document.querySelector(".js-photo-list"),this.dom.gallery=document.querySelector(".js-photo-gallery"),this.dom.el&&this.dom.gallery&&(this.dom.images=this.dom.gallery.querySelectorAll(".js-photo-img-wrap"),setTimeout((function(){e.activeItem=e.dom.gallery.querySelector(".js-photo-img-wrap.is-active"),e.activeListItem=document.querySelector(".js-photo-list-item.is-active")}),1e3))}return Object(l.a)(t,[{key:"setCache",value:function(){var t=this;this.cache=[],Object(r.a)(this.dom.images).forEach((function(e){var n=e.getBoundingClientRect(),o=n.height,r=n.y;t.cache.push({el:e,height:o,y:r+window.scrollY})}))}},{key:"setActiveItem",value:function(t){var e=t.getAttribute("data-album");this.activeItem&&this.activeItem.classList.remove("is-active"),this.activeListItem&&this.activeListItem.classList.remove("is-active"),this.activeItem=t,this.activeItem.classList.add("is-active"),this.activeListItem=this.dom.el.querySelector('[data-album="'.concat(e,'"]')),this.activeListItem&&this.activeListItem.classList.add("is-active")}},{key:"addListeners",value:function(){var t=this;setTimeout((function(){t.dom.buttons=t.dom.el.querySelectorAll(".js-trigger"),Object(r.a)(t.dom.buttons).forEach((function(button){return button.addEventListener("click",t.handleClick)}))}),1e3),window.addEventListener("resize",this.handleResize)}},{key:"removeListeners",value:function(){var t=this;Object(r.a)(this.dom.buttons).forEach((function(button){return button.removeEventListener("click",t.handleClick)})),window.removeEventListener("resize",this.handleResize)}},{key:"init",value:function(){this.dom.el&&this.dom.gallery&&(this.setCache(),!h.a.isDevice&&this.addListeners(),d.a.time.emitter.on("tick",this.render))}},{key:"destroy",value:function(){this.dom.el&&this.dom.gallery&&(!h.a.isDevice&&this.removeListeners(),this.activeItem&&this.activeItem.classList.remove("is-active"),this.activeListItem&&this.activeListItem.classList.remove("is-active"),d.a.time.emitter.off("tick",this.render))}}]),t}(),v={props:{jumpLinks:{type:Boolean,default:!1,required:!1}},mounted:function(){(o=new m).init()},destroyed:function(){o.destroy()}},f=n(10),component=Object(f.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[n("div",{staticClass:"container"},[n("div",{staticClass:"list-content"},[n("h4",{staticClass:"list-title"},[t._v("\n        Previous trips to\n      ")]),t._v(" "),n("ul",t._l(t.$store.state.albums.albums,(function(e,o){return n("li",{key:o,staticClass:"list-link js-photo-list-item",class:0===o&&t.jumpLinks?"is-active":"",attrs:{"data-album":e.node._meta.uid}},[t.jumpLinks?n("button",{staticClass:"js-trigger",attrs:{type:"button","data-album":e.node._meta.uid}},[t._v("\n            "+t._s(e.node.title[0].text)+"\n          ")]):[t._v("\n            "+t._s(e.node.title[0].text)+"\n          ")]],2)})),0)])])])}),[],!1,null,null,null);e.a=component.exports},211:function(t,e,n){"use strict";n.r(e);var o,r=n(21),c=(n(192),n(99)),l=(n(38),n(12)),h=n(100),d=n.n(h),m=n(101),v=n(16),f=n(17),y=n(8),w=n(5),header=function(){function t(e){var n=this;Object(v.a)(this,t),this.run=function(){w.a.scroll.state.last<=window.innerHeight/3&&!n.shown?(y.a.to(n.dom.el,{duration:.5,autoAlpha:1}),n.shown=!0):w.a.scroll.state.last>window.innerHeight/3&&n.shown&&(y.a.to(n.dom.el,{duration:.5,autoAlpha:0}),n.shown=!1)},this.dom={},this.dom.el=e.el,this.shown=!0}return Object(f.a)(t,[{key:"init",value:function(){w.a.time.emitter.on("tick",this.run)}},{key:"destroy",value:function(){w.a.time.emitter.off("tick",this.run)}}]),t}(),j=n(97),k=n(3),_={components:{Logo:j.a},mounted:function(){k.a.isDevice&&(o=new header({el:this.$refs.header})).init()},destroyed:function(){k.a.isDevice&&o.destroy()}},L=n(10),C=Object(L.a)(_,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"header",staticClass:"photo-header"},[e("div",{staticClass:"photo-header-content"},[this._m(0),this._v(" "),e("Logo",{staticClass:"is-photo",attrs:{id:"photographs"}})],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"heading is-medium photo-header-heading js-heading"},[e("div",[e("div",[this._v("Photographs")])]),this._v(" "),e("div",[e("div",[e("span",{staticClass:"is-purple"},[this._v("Captured")])])])])}],!1,null,null,null).exports,I=n(200),O={components:{Img:n(190).a},props:{fields:{type:Array,default:null,required:!0}},data:function(){return{ar:"desktop"===k.a.size?1.2857142857:"tablet"===k.a.size?.85:.6673}}},x=Object(L.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"photo-gallery js-photo-gallery"},[n("div",{staticClass:"container"},t._l(t.fields,(function(e,o){return n("Img",{key:o,staticClass:"photo-gallery-img-wrap js-photo-img-wrap",class:0===o?"is-active":"",attrs:{src:""+e.node.cover.url+("Dolomites"===e.node.title[0].text&&"&flip=h"),alt:e.node.cover.alt,"width-mobile":385,"width-tablet":615,"width-desktop":1120,ratio:t.ar,"data-album":e.node._meta.uid,title:e.node.title[0].text,"title-color":e.node.color,"link-href":"/photographs/"+e.node._meta.uid,"link-slug":e.node._meta.uid,load:0===o?"critical":"lazy",animation:0!==o?"reveal-image":"",index:o}})})),1)])}),[],!1,null,null,null).exports,A=n(191),E=n(193),meta=n(194),$=n(195);function z(){var data=Object(c.a)(["\n          {\n            allAlbums(sortBy:order_ASC) {\n              edges {\n                node {\n                  cover\n                  title\n                  color\n                  _meta {\n                    uid\n                  }\n                }\n              }\n            }\n          }\n        "]);return z=function(){return data},data}var R,S={name:"Photographs",components:{Header:C,List:I.a,Gallery:x},asyncData:(R=Object(l.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.query({query:d()(z())});case 3:return e=t.sent,t.abrupt("return",{fields:e.data.allAlbums.edges});case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(){return R.apply(this,arguments)}),data:function(){return{link:Object($.a)(k.a.isFF)}},mounted:function(){this.link=Object($.a)(k.a.isFF);var t=setInterval((function(){k.a.introFinished&&k.a.criticalImageLoaded&&(clearInterval(t),Object(E.a)("photographs"))}),20)},head:function(){return{title:"Photographs",meta:[].concat(Object(r.a)(meta.c("Photographs")),Object(r.a)(meta.a("Nash Dodti is a Belgian-born, self-taught photographer with a passion for the outdoors and the wilderness.")),Object(r.a)(meta.b("https://images.prismic.io/rluijtenant/c1bbd63f-bbdb-4119-817e-d4faf6218d69_val-gardena-2.jpg?auto=compress,format&w=1200&h=630")),Object(r.a)(meta.d("".concat(k.a.baseUrl).concat(this.$nuxt.$options.router.history.current.path)))),link:[this.link]}},transition:Object(A.a)("photographs")},H=Object(L.a)(S,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content js-content",attrs:{"data-view":"photographs"}},[e("Header",{staticClass:"js-fixed"}),this._v(" "),e("div",{staticClass:"photo-list-wrap"},[e("List",{staticClass:"is-photo js-photo-list js-fixed",attrs:{"jump-links":!0}})],1),this._v(" "),e("Gallery",{staticClass:"js-photo-gallery",attrs:{fields:this.fields}})],1)}),[],!1,null,null,null);e.default=H.exports}}]);